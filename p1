R1 CONSOLE
Conf t
hostname R1
interface Loopback 0
description R1 LAN
ip address 192.168.1.1 255.255.255.0
interface Serial1/0
description R1 ðŸ¡ª ISP1
ip address 209.165.201.2 255.255.255.252
clock rate 128000
bandwidth 128
no shutdown
interface Serial1/1
description R1 ðŸ¡ª ISP2
ip address 209.165.202.130 255.255.255.252
bandwidth 128
no shutdown

Router ISP1 (R2) CONSOLE
Conf t
hostname ISP1
interface Loopback0
description Simulated Internet Web Server
ip address 209.165.200.254 255.255.255.255
interface Loopback1
description ISP1 DNS Server
ip address 209.165.201.30 255.255.255.255
interface Serial1/0
description ISP1 ðŸ¡ª R1
ip address 209.165.201.1 255.255.255.252
bandwidth 128
no shutdown
interface Serial1/2
description ISP1 ðŸ¡ª ISP2
ip address 209.165.200.225 255.255.255.252
clock rate 128000
bandwidth 128
no shutdown

Router ISP2 (R3) CONSOLE
conf t
hostname ISP2
interface Loopback0
description Simulated Internet Web Server
ip address 209.165.200.254 255.255.255.255
interface Loopback1
description ISP2 DNS Server
ip address 209.165.202.158 255.255.255.255
interface Serial1/1
description ISP2 ðŸ¡ª R1
ip address 209.165.202.129 255.255.255.252
clock rate 128000
bandwidth 128
no shutdown
interface Serial1/2
description ISP2 ðŸ¡ª ISP1
ip address 209.165.200.226 255.255.255.252
bandwidth 128
no shutdown

R1 CONSOLE
end
show interfaces description | include up

ISP1 CONSOLE
end
show interfaces description | include up

ISP2 CONSOLE
end
show interfaces description | include up

R1 CONSOLE
conf t
ip route 0.0.0.0 0.0.0.0 209.165.201.1

ISP1 CONSOLE
Conf t
router eigrp 1
network 209.165.200.224 0.0.0.3
network 209.165.201.0 0.0.0.31
no auto-summary
ip route 192.168.1.0 255.255.255.0 209.165.201.2

ISP2 CONSOLE
conf t
router eigrp 1
network 209.165.200.224 0.0.0.3
network 209.165.202.128 0.0.0.31
no auto-summary
ip route 192.168.1.0 255.255.255.0 209.165.202.130

ISP1 CONSOLE
exit 
conf t
ip route 192.168.1.0 255.255.255.0 209.165.201.2
end

ISP2 CONSOLE
exit 
conf t
ip route 192.168.1.0 255.255.255.0 209.165.201.2
end

Step 5
R1 CONSOLE
tclsh
foreach address {
209.165.200.254
209.165.201.30
209.165.202.158
} {
ping $address source 192.168.1.1
}
exit

Conf t
ip sla monitor 11
type echo protocol ipIcmpEcho 209.165.201.30
frequency 10
exit
ip sla monitor schedule 11 life forever start-time now
exit
show ip sla monitor configuration 11

Conf t
ip sla monitor 11
type echo protocol ipIcmpEcho 209.165.201.30
frequency 10
exit
ip sla monitor schedule 11 life forever start-time now
exit
show ip sla monitor configuration 11

Conf t
ip sla monitor 22
type echo protocol ipIcmpEcho 209.165.202.158
frequency 10
exit
ip sla monitor schedule 22 life forever start-time now
exit
show ip sla monitor configuration 22

show ip sla monitor statistics
R1 CONSOLE
Conf t
no ip route 0.0.0.0 0.0.0.0 209.165.201.1
ip route 0.0.0.0 0.0.0.0 209.165.201.1 5
exit
show ip route

R1 CONSOLE
conf t
track 1 rtr 11 reachability
delay down 10 up 1
exit
exit
debug ip routing
conf t
ip route 0.0.0.0 0.0.0.0 209.165.201.1 2 track 1

conf t
track 2 rtr 22 reachability
delay down 10 up 1
exit
exit
debug ip routing
conf t
ip route 0.0.0.0 0.0.0.0 209.165.202.129 3 track 2
exit
show ip route

ISP1 CONSOLE
conf t
interface loopback 1
shutdown

R1 CONSOLE
show ip route

show ip sla monitor statistics 

trace 209.165.200.254 source 192.168.1.1 

ISP1 CONSOLE
no shutdown

R1 CONSOLE
show ip sla monitor statistics

Show ip route
